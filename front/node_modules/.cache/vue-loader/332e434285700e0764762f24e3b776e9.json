{"remainingRequest":"/Users/lvjing/web-project/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/web-project/front/src/views/project/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/web-project/front/src/views/project/index.vue","mtime":1653906126974},{"path":"/Users/lvjing/web-project/front/node_modules/cache-loader/dist/cjs.js","mtime":1652685773640},{"path":"/Users/lvjing/web-project/front/node_modules/babel-loader/lib/index.js","mtime":1652685774572},{"path":"/Users/lvjing/web-project/front/node_modules/cache-loader/dist/cjs.js","mtime":1652685773640},{"path":"/Users/lvjing/web-project/front/node_modules/vue-loader/lib/index.js","mtime":1652685774920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQcm9qZWN0RGlhbG9nIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUHJvamVjdC9wcm9qZWN0RGlhbG9nLnZ1ZScKaW1wb3J0IHsgcHJvamVjdExpc3QgfSBmcm9tICdAL2FwaS9wcm9qZWN0cycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9yamVjdCcsCiAgY29tcG9uZW50czogewogICAgUHJvamVjdERpYWxvZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ0ZsYWc6IGZhbHNlLAogICAgICBkaWFsb2dUaXRsZTogJ2NyZWF0ZScsCiAgICAgIGN1cnJlbnRQb3JqZWN0SWQ6ICcnLAogICAgICBwcm9qZWN0RGF0YTogW10sCiAgICAgIHJlcTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgc2l6ZTogNgogICAgICB9LAogICAgICAvLyDliIbpobXpobXmlbAKICAgICAgdG90YWw6IDEwCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8g57uE5Lu25Yqg6L2955qE5pe25YCZIOi/m+ihjOiwg+eUqAogICAgdGhpcy5pbml0UHJvamVjdExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaW5pdFByb2plY3RMaXN0KCkgewogICAgICBjb25zdCByZXNwID0gYXdhaXQgcHJvamVjdExpc3QodGhpcy5yZXEpCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAvLyDlpITnkIbliqDovb3nmoTlm77niYfot6/lvoQKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3AuaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHJlc3AuaXRlbXNbaV0uaW1hZ2UgPSAnL3N0YXRpYy9pbWFnZXMvJyArIHJlc3AuaXRlbXNbaV0uaW1hZ2UKICAgICAgICB9CiAgICAgICAgdGhpcy5wcm9qZWN0RGF0YSA9IHJlc3AuaXRlbXMKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcC50b3RhbAogICAgICAgIC8vIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5p+l6K+i5oiQ5Yqf77yBJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKQogICAgICB9CiAgICB9LAoKICAgIC8vIOWxleekuuWtkOe7hOS7tgogICAgc2hvd0RpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICdjcmVhdGUnCiAgICAgIHRoaXMuZGlhbG9nRmxhZyA9IHRydWUKICAgIH0sCiAgICAvLyDlhbPpl63lrZDnu4Tku7bvvIzlrZDnu4Tku7bnmoRjbG9zZURpYWxvZ+Wbnuiwg+eItue7hOS7tgogICAgY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuZGlhbG9nRmxhZyA9IGZhbHNlCiAgICAgIHRoaXMuaW5pdFByb2plY3RMaXN0KCkKICAgIH0sCiAgICAvLyDot7PovazliLDnrKzlh6DpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApCiAgICAgIHRoaXMucmVxLnBhZ2UgPSB2YWwKICAgICAgdGhpcy5pbml0UHJvamVjdExpc3QoKQogICAgfSwKICAgIC8vIOWxleekuumhueebruivpuaDhQogICAgc2hvd0RldGFpbChpZCkgewogICAgICB0aGlzLmN1cnJlbnRQb3JqZWN0SWQgPSBpZAogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ2NyZWF0ZScKICAgICAgdGhpcy5kaWFsb2dGbGFnID0gdHJ1ZQogICAgfSwKICAgIC8vIOe8lui+kemhueebrgogICAgc2hvd0VkaXQoaWQpIHsKICAgICAgdGhpcy5jdXJyZW50UG9yamVjdElkID0gaWQKICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICdlZGl0JwogICAgICB0aGlzLmRpYWxvZ0ZsYWcgPSB0cnVlCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/project","sourcesContent":["<template>\n  <div class=\"project\">\n    <el-card class=\"box-card\">\n      <div style=\"height: 50px; text-align: left; width: 100%\">\n        <el-button type=\"primary\" @click=\"showDialog()\">创建</el-button>\n      </div>\n\n      <div style=\"height: 700px\">\n        <div\n          v-for=\"(item, index) in projectData\"\n          :key=\"index\"\n          class=\"text item\"\n        >\n          <el-col :span=\"7\" class=\"project-card\">\n            <el-card style=\"width: 300px\">\n              <div slot=\"header\" class=\"clearfix\">\n                <span>{{ item.name }}</span>\n                <div style=\"float: right\">\n                  <el-dropdown>\n                    <span class=\"el-dropdown-link\">\n                      <i class=\"el-icon-setting\" />\n                    </span>\n                    <el-dropdown-menu slot=\"dropdown\">\n                      <el-dropdown-item>\n                        <el-button\n                          type=\"text\"\n                          @click=\"showDetail(item.id)\"\n                        >详情</el-button>\n                      </el-dropdown-item>\n                      <el-dropdown-item>\n                        <el-button\n                          type=\"text\"\n                          @click=\"showEdit(item.id)\"\n                        >编辑</el-button>\n                      </el-dropdown-item>\n                      <el-dropdown-item>\n                        <el-button\n                          type=\"text\"\n                          @click=\"deleteProject(item.id)\"\n                        >删除</el-button>\n                      </el-dropdown-item>\n                    </el-dropdown-menu>\n                  </el-dropdown>\n                </div>\n              </div>\n              {{ item.address }}\n              <img\n                src=\"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png\"\n                class=\"image\"\n              >\n            </el-card>\n          </el-col>\n        </div>\n      </div>\n      <!--分页-->\n      <div style=\"width: 100%; text-align: right\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :page-size=\"req.size\"\n          :total=\"total\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n    <!--引入子组件-->\n    <project-dialog v-if=\"dialogFlag\" @cancel=\"closeDialog\" />\n  </div>\n</template>\n\n<script>\nimport ProjectDialog from '../../components/Project/projectDialog.vue'\nimport { projectList } from '@/api/projects'\n\nexport default {\n  name: 'Porject',\n  components: {\n    ProjectDialog\n  },\n  data() {\n    return {\n      dialogFlag: false,\n      dialogTitle: 'create',\n      currentPorjectId: '',\n      projectData: [],\n      req: {\n        page: 1,\n        size: 6\n      },\n      // 分页页数\n      total: 10\n    }\n  },\n  mounted() {\n    // 组件加载的时候 进行调用\n    this.initProjectList()\n  },\n  methods: {\n    async initProjectList() {\n      const resp = await projectList(this.req)\n      if (resp.success === true) {\n        // 处理加载的图片路径\n        for (let i = 0; i < resp.items.length; i++) {\n          resp.items[i].image = '/static/images/' + resp.items[i].image\n        }\n        this.projectData = resp.items\n        this.total = resp.total\n        // this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n\n    // 展示子组件\n    showDialog() {\n      this.dialogTitle = 'create'\n      this.dialogFlag = true\n    },\n    // 关闭子组件，子组件的closeDialog回调父组件\n    closeDialog() {\n      this.dialogFlag = false\n      this.initProjectList()\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`)\n      this.req.page = val\n      this.initProjectList()\n    },\n    // 展示项目详情\n    showDetail(id) {\n      this.currentPorjectId = id\n      this.dialogTitle = 'create'\n      this.dialogFlag = true\n    },\n    // 编辑项目\n    showEdit(id) {\n      this.currentPorjectId = id\n      this.dialogTitle = 'edit'\n      this.dialogFlag = true\n    }\n  }\n}\n</script>\n"]}]}