{"remainingRequest":"/Users/lvjing/web-project/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/web-project/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/web-project/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/web-project/front/src/components/Project/projectDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/web-project/front/src/components/Project/projectDialog.vue","mtime":1653906462671},{"path":"/Users/lvjing/web-project/front/babel.config.js","mtime":1652685204336},{"path":"/Users/lvjing/web-project/front/node_modules/cache-loader/dist/cjs.js","mtime":1652685773640},{"path":"/Users/lvjing/web-project/front/node_modules/babel-loader/lib/index.js","mtime":1652685774572},{"path":"/Users/lvjing/web-project/front/node_modules/cache-loader/dist/cjs.js","mtime":1652685773640},{"path":"/Users/lvjing/web-project/front/node_modules/vue-loader/lib/index.js","mtime":1652685774920}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9sdmppbmcvd2ViLXByb2plY3QvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFByb2plY3QgfSBmcm9tICdAL2FwaS9wcm9qZWN0cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9yamVjdERpYWxvZycsCiAgY29tcG9uZW50czoge30sCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9yZXF1aXJlLXByb3AtdHlwZXMKICBwcm9wczogWyd0aXRsZScsICdwaWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgdXBkYXRlVVJMOiAnJywKICAgICAgcHJvamVjdEZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBkZXNjcmliZTogJycsCiAgICAgICAgaW1hZ2U6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemhueebrueahOWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIC8vIOeOsOacieWbvueJh+WIl+ihqAogICAgICBpbWFnZVVybDogJycsCiAgICAgIC8vIOWbvueJh+i3r+W+hAogICAgICBpbWFnZVZpc2libGU6IGZhbHNlLAogICAgICBkaXNhYmxlZDogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMudGl0bGUgPT09ICdjcmVhdGUnKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ+WIm+W7uumhueebric7CiAgICB9IGVsc2UgaWYgKHRoaXMudGl0bGUgPT09ICdlZGl0JykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfnvJbovpHpobnnm64nOwogICAgICB0aGlzLmluaXRQcm9qZWN0RGV0YWlsKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjbG9zZURpYWxvZycpOwogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9LAogICAgLy8g5p+l6K+i6aG555uu6K+m5oOFCiAgICBpbml0UHJvamVjdERldGFpbDogZnVuY3Rpb24gaW5pdFByb2plY3REZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbml0UHJvamVjdCcpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UHJvamVjdChfdGhpcy5waWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnByb2plY3RGb3JtID0gcmVzcC5pdGVtOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6aG555uu6K+m5oOF5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign6aG555uu6K+m5oOF5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AAEA;EACAA,qBADA;EAEAC,cAFA;EAGA;EACAC,uBAJA;EAKAC,IALA,kBAKA;IACA;MACAC,mBADA;MAEAC,aAFA;MAGAC,aAHA;MAIAC;QACAP,QADA;QAEAQ,YAFA;QAGAC;MAHA,CAJA;MASAC;QACAV,OACA;UAAAW;UAAAC;UAAAC;QAAA,CADA;MADA,CATA;MAcAC,YAdA;MAcA;MACAC,YAfA;MAeA;MACAC,mBAhBA;MAiBAC;IAjBA;EAmBA,CAzBA;EA0BAC,OA1BA,qBA0BA;IACA;MACA;IACA,CAFA,MAEA;MACA;MACA;IACA;EACA,CAjCA;EAkCAC;IACAC,WADA,yBACA;MACAC;MACA;IACA,CAJA;IAKA;IACAC,iBANA,+BAMA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAD;gBADA;gBAAA,OAEAE,qBAFA;;cAAA;gBAEAC,IAFA;;gBAGA;kBACA;;kBACA;gBACA,CAHA,MAGA;kBACA;gBACA;;cARA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA;EAfA;AAlCA","names":["name","components","props","data","dialogVisible","showTitle","updateURL","projectForm","describe","image","rules","required","message","trigger","fileList","imageUrl","imageVisible","disabled","mounted","methods","closeDialog","console","initProjectDetail","getProject","resp"],"sourceRoot":"src/components/Project","sources":["projectDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"500px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"projectForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"项目名称\" prop=\"name\">\n        <el-input v-model=\"projectForm.name\" />\n      </el-form-item>\n      <el-form-item label=\"项目描述\" prop=\"desc\">\n        <el-input v-model=\"projectForm.describe\" type=\"textarea\" />\n      </el-form-item>\n      <el-form-item label=\"图片\" prop=\"desc\">\n        <div id=\"image\">\n          <el-upload\n            action=\"#\"\n            :before-upload=\"beforeUpload\"\n            list-type=\"picture-card\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :file-list=\"fileList\"\n          >\n            <i class=\"el-icon-plus\" />\n          </el-upload>\n          <el-dialog :visible.sync=\"imageVisible\">\n            <img width=\"100%\" :src=\"imageUrl\" alt=\"\">\n          </el-dialog>\n        </div>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitForm('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n<script>\nimport { getProject } from '@/api/projects'\n\nexport default {\n  name: 'PorjectDialog',\n  components: {},\n  // eslint-disable-next-line vue/require-prop-types\n  props: ['title', 'pid'],\n  data() {\n    return {\n      dialogVisible: true,\n      showTitle: '',\n      updateURL: '',\n      projectForm: {\n        name: '',\n        describe: '',\n        image: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入项目的名称', trigger: 'blur' }\n        ]\n      },\n      fileList: [], // 现有图片列表\n      imageUrl: '', // 图片路径\n      imageVisible: false,\n      disabled: false\n    }\n  },\n  mounted() {\n    if (this.title === 'create') {\n      this.showTitle = '创建项目'\n    } else if (this.title === 'edit') {\n      this.showTitle = '编辑项目'\n      this.initProjectDetail()\n    }\n  },\n  methods: {\n    closeDialog() {\n      console.log('closeDialog')\n      this.$emit('cancel', {})\n    },\n    // 查询项目详情\n    async initProjectDetail() {\n      console.log('initProject')\n      const resp = await getProject(this.pid)\n      if (resp.success === true) {\n        this.projectForm = resp.item\n        this.$message.success('项目详情成功！')\n      } else {\n        this.$message.error('项目详情失败！')\n      }\n    }\n  }\n}\n</script>\n"]}]}